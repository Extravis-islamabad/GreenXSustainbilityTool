var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
import { COORDIANTE_OPTIONS } from '../components';
import { getCustomKeys } from './get-custom-keys';
import { RESERVED_KEYS } from '../constants';
/**
 * 统一删除已转换的配置项
 */
export var deleteCustomKeys = function (options, isRender) {
    var _a;
    var deleteKeys = getCustomKeys();
    __spreadArray(__spreadArray([], deleteKeys, true), COORDIANTE_OPTIONS, true).forEach(function (key) {
        delete options[key];
    });
    // 2023-11-09 对children为空情况做兼容。
    (_a = options.children) === null || _a === void 0 ? void 0 : _a.forEach(function (child) {
        Object.keys(child).forEach(function (key) {
            if (deleteKeys.includes(key)) {
                delete child[key];
            }
        });
    });
    /**
     * @description 最终渲染，除保留配置外，其余全部删除，避免配置污染
     */
    if (isRender) {
        Object.keys(options).forEach(function (key) {
            if (!RESERVED_KEYS.includes(key)) {
                delete options[key];
            }
        });
    }
    return options;
};
