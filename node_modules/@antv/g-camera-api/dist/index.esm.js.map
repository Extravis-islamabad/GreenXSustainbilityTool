{"version":3,"file":"index.esm.js","sources":["../src/AdvancedCamera.ts","../src/index.ts"],"sourcesContent":["import { __extends } from \"tslib\";\nimport { Camera, CameraType, getAngle, createVec3, deg2rad, runtime, } from '@antv/g-lite';\nimport { isString, isNumber } from '@antv/util';\nimport { mat4, quat, vec3 } from 'gl-matrix';\n/**\n * Provides camera action & animation.\n */\nvar AdvancedCamera = /** @class */ (function (_super) {\n    __extends(AdvancedCamera, _super);\n    function AdvancedCamera() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**\n         * switch between multiple landmarks\n         */\n        _this.landmarks = [];\n        return _this;\n        /**\n         * Sets the camera to a distance such that the area covered by the bounding box is viewed.\n         */\n        // shot(displayObject: DisplayObject) {\n        //   const aabb = displayObject.getBounds();\n        //   if (!AABB.isEmpty(aabb)) {\n        //     this.setElevation(0);\n        //     this.setAzimuth(0);\n        //     this.setRoll(0);\n        //     const { halfExtents, center } = aabb;\n        //     const maxDim = Math.max(halfExtents[0] * 2, halfExtents[1] * 2);\n        //     const cc = center.map((c: number) => Math.round(c * 1000) / 1000) as [number, number, number];\n        //     if (maxDim !== 0) {\n        //       const d = (1.5 * maxDim) / Math.tan(this.fov * DEG_2_RAD);\n        //       this.setPosition([cc[0], cc[1], cc[2] + d]);\n        //     }\n        //     this.setFocalPoint(cc);\n        //   }\n        // }\n    }\n    /**\n     * Changes the azimuth and elevation with respect to the current camera axes\n     * @param {Number} azimuth the relative azimuth\n     * @param {Number} elevation the relative elevation\n     * @param {Number} roll the relative roll\n     */\n    AdvancedCamera.prototype.rotate = function (azimuth, elevation, roll) {\n        this.relElevation = getAngle(elevation);\n        this.relAzimuth = getAngle(azimuth);\n        this.relRoll = getAngle(roll);\n        this.elevation += this.relElevation;\n        this.azimuth += this.relAzimuth;\n        this.roll += this.relRoll;\n        if (this.type === CameraType.EXPLORING) {\n            var rotX = quat.setAxisAngle(quat.create(), [1, 0, 0], deg2rad((this.rotateWorld ? 1 : -1) * this.relElevation));\n            var rotY = quat.setAxisAngle(quat.create(), [0, 1, 0], deg2rad((this.rotateWorld ? 1 : -1) * this.relAzimuth));\n            var rotZ = quat.setAxisAngle(quat.create(), [0, 0, 1], deg2rad(this.relRoll));\n            var rotQ = quat.multiply(quat.create(), rotY, rotX);\n            rotQ = quat.multiply(quat.create(), rotQ, rotZ);\n            var rotMatrix = mat4.fromQuat(mat4.create(), rotQ);\n            mat4.translate(this.matrix, this.matrix, [0, 0, -this.distance]);\n            mat4.multiply(this.matrix, this.matrix, rotMatrix);\n            mat4.translate(this.matrix, this.matrix, [0, 0, this.distance]);\n        }\n        else {\n            if (Math.abs(this.elevation) > 90) {\n                return this;\n            }\n            this.computeMatrix();\n        }\n        this._getAxes();\n        if (this.type === CameraType.ORBITING ||\n            this.type === CameraType.EXPLORING) {\n            this._getPosition();\n        }\n        else if (this.type === CameraType.TRACKING) {\n            this._getFocalPoint();\n        }\n        this._update();\n        return this;\n    };\n    /**\n     * 沿水平(right) & 垂直(up)平移相机\n     */\n    AdvancedCamera.prototype.pan = function (tx, ty) {\n        var coords = createVec3(tx, ty, 0);\n        var pos = vec3.clone(this.position);\n        vec3.add(pos, pos, vec3.scale(vec3.create(), this.right, coords[0]));\n        vec3.add(pos, pos, vec3.scale(vec3.create(), this.up, coords[1]));\n        this._setPosition(pos);\n        this.triggerUpdate();\n        return this;\n    };\n    /**\n     * 沿 n 轴移动，当距离视点远时移动速度较快，离视点越近速度越慢\n     */\n    AdvancedCamera.prototype.dolly = function (value) {\n        var n = this.forward;\n        var pos = vec3.clone(this.position);\n        var step = value * this.dollyingStep;\n        var updatedDistance = this.distance + value * this.dollyingStep;\n        // 限制视点距离范围\n        step =\n            Math.max(Math.min(updatedDistance, this.maxDistance), this.minDistance) -\n                this.distance;\n        pos[0] += step * n[0];\n        pos[1] += step * n[1];\n        pos[2] += step * n[2];\n        this._setPosition(pos);\n        if (this.type === CameraType.ORBITING ||\n            this.type === CameraType.EXPLORING) {\n            // 重新计算视点距离\n            this._getDistance();\n        }\n        else if (this.type === CameraType.TRACKING) {\n            // 保持视距，移动视点位置\n            vec3.add(this.focalPoint, pos, this.distanceVector);\n        }\n        this.triggerUpdate();\n        return this;\n    };\n    AdvancedCamera.prototype.cancelLandmarkAnimation = function () {\n        if (this.landmarkAnimationID !== undefined) {\n            this.canvas.cancelAnimationFrame(this.landmarkAnimationID);\n        }\n    };\n    AdvancedCamera.prototype.createLandmark = function (name, params) {\n        var _a, _b, _c, _d;\n        if (params === void 0) { params = {}; }\n        var _e = params.position, position = _e === void 0 ? this.position : _e, _f = params.focalPoint, focalPoint = _f === void 0 ? this.focalPoint : _f, roll = params.roll, zoom = params.zoom;\n        var camera = new runtime.CameraContribution();\n        camera.setType(this.type, undefined);\n        camera.setPosition(position[0], (_a = position[1]) !== null && _a !== void 0 ? _a : this.position[1], (_b = position[2]) !== null && _b !== void 0 ? _b : this.position[2]);\n        camera.setFocalPoint(focalPoint[0], (_c = focalPoint[1]) !== null && _c !== void 0 ? _c : this.focalPoint[1], (_d = focalPoint[2]) !== null && _d !== void 0 ? _d : this.focalPoint[2]);\n        camera.setRoll(roll !== null && roll !== void 0 ? roll : this.roll);\n        camera.setZoom(zoom !== null && zoom !== void 0 ? zoom : this.zoom);\n        var landmark = {\n            name: name,\n            matrix: mat4.clone(camera.getWorldTransform()),\n            right: vec3.clone(camera.right),\n            up: vec3.clone(camera.up),\n            forward: vec3.clone(camera.forward),\n            position: vec3.clone(camera.getPosition()),\n            focalPoint: vec3.clone(camera.getFocalPoint()),\n            distanceVector: vec3.clone(camera.getDistanceVector()),\n            distance: camera.getDistance(),\n            dollyingStep: camera.getDollyingStep(),\n            azimuth: camera.getAzimuth(),\n            elevation: camera.getElevation(),\n            roll: camera.getRoll(),\n            relAzimuth: camera.relAzimuth,\n            relElevation: camera.relElevation,\n            relRoll: camera.relRoll,\n            zoom: camera.getZoom(),\n        };\n        this.landmarks.push(landmark);\n        return landmark;\n    };\n    AdvancedCamera.prototype.gotoLandmark = function (name, options) {\n        var _this = this;\n        if (options === void 0) { options = {}; }\n        var landmark = isString(name)\n            ? this.landmarks.find(function (l) { return l.name === name; })\n            : name;\n        if (landmark) {\n            var _a = isNumber(options) ? { duration: options } : options, _b = _a.easing, easing = _b === void 0 ? 'linear' : _b, _c = _a.duration, duration_1 = _c === void 0 ? 100 : _c, _d = _a.easingFunction, easingFunction = _d === void 0 ? undefined : _d, _e = _a.onfinish, onfinish_1 = _e === void 0 ? undefined : _e, _f = _a.onframe, onframe_1 = _f === void 0 ? undefined : _f;\n            var epsilon_1 = 0.01;\n            if (duration_1 === 0) {\n                this.syncFromLandmark(landmark);\n                if (onfinish_1) {\n                    onfinish_1();\n                }\n                return;\n            }\n            // cancel ongoing animation\n            this.cancelLandmarkAnimation();\n            var destPosition_1 = landmark.position;\n            var destFocalPoint_1 = landmark.focalPoint;\n            var destZoom_1 = landmark.zoom;\n            var destRoll_1 = landmark.roll;\n            var easingFunc_1 = easingFunction || runtime.EasingFunction(easing);\n            var timeStart_1;\n            var endAnimation_1 = function () {\n                _this.setFocalPoint(destFocalPoint_1);\n                _this.setPosition(destPosition_1);\n                _this.setRoll(destRoll_1);\n                _this.setZoom(destZoom_1);\n                _this.computeMatrix();\n                _this.triggerUpdate();\n                if (onfinish_1) {\n                    onfinish_1();\n                }\n            };\n            var animate_1 = function (timestamp) {\n                if (timeStart_1 === undefined) {\n                    timeStart_1 = timestamp;\n                }\n                var elapsed = timestamp - timeStart_1;\n                if (elapsed > duration_1) {\n                    endAnimation_1();\n                    return;\n                }\n                // use the same ease function in animation system\n                var t = easingFunc_1(elapsed / duration_1);\n                var interFocalPoint = vec3.create();\n                var interPosition = vec3.create();\n                var interZoom = 1;\n                var interRoll = 0;\n                vec3.lerp(interFocalPoint, _this.focalPoint, destFocalPoint_1, t);\n                vec3.lerp(interPosition, _this.position, destPosition_1, t);\n                interRoll = _this.roll * (1 - t) + destRoll_1 * t;\n                interZoom = _this.zoom * (1 - t) + destZoom_1 * t;\n                _this.setFocalPoint(interFocalPoint);\n                _this.setPosition(interPosition);\n                _this.setRoll(interRoll);\n                _this.setZoom(interZoom);\n                var dist = vec3.dist(interFocalPoint, destFocalPoint_1) +\n                    vec3.dist(interPosition, destPosition_1);\n                if (dist <= epsilon_1 && destZoom_1 == undefined && destRoll_1 == undefined) {\n                    endAnimation_1();\n                    return;\n                }\n                _this.computeMatrix();\n                _this.triggerUpdate();\n                if (elapsed < duration_1) {\n                    if (onframe_1) {\n                        onframe_1(t);\n                    }\n                    _this.landmarkAnimationID = _this.canvas.requestAnimationFrame(animate_1);\n                }\n            };\n            this.canvas.requestAnimationFrame(animate_1);\n        }\n    };\n    AdvancedCamera.prototype.syncFromLandmark = function (landmark) {\n        this.matrix = mat4.copy(this.matrix, landmark.matrix);\n        this.right = vec3.copy(this.right, landmark.right);\n        this.up = vec3.copy(this.up, landmark.up);\n        this.forward = vec3.copy(this.forward, landmark.forward);\n        this.position = vec3.copy(this.position, landmark.position);\n        this.focalPoint = vec3.copy(this.focalPoint, landmark.focalPoint);\n        this.distanceVector = vec3.copy(this.distanceVector, landmark.distanceVector);\n        this.azimuth = landmark.azimuth;\n        this.elevation = landmark.elevation;\n        this.roll = landmark.roll;\n        this.relAzimuth = landmark.relAzimuth;\n        this.relElevation = landmark.relElevation;\n        this.relRoll = landmark.relRoll;\n        this.dollyingStep = landmark.dollyingStep;\n        this.distance = landmark.distance;\n        this.zoom = landmark.zoom;\n    };\n    return AdvancedCamera;\n}(Camera));\nexport { AdvancedCamera };\n//# sourceMappingURL=AdvancedCamera.js.map","import { runtime } from '@antv/g-lite';\nimport { AdvancedCamera } from './AdvancedCamera';\nexport { AdvancedCamera };\nruntime.CameraContribution = AdvancedCamera;\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACG,IAAC,cAAc,kBAAkB,UAAU,MAAM,EAAE;AACtD,IAAI,SAAS,CAAC,cAAc,EAAE,MAAM,CAAC,CAAC;AACtC,IAAI,SAAS,cAAc,GAAG;AAC9B,QAAQ,IAAI,KAAK,GAAG,MAAM,KAAK,IAAI,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,IAAI,IAAI,CAAC;AAC7E;AACA;AACA;AACA,QAAQ,KAAK,CAAC,SAAS,GAAG,EAAE,CAAC;AAC7B,QAAQ,OAAO,KAAK,CAAC;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,cAAc,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,OAAO,EAAE,SAAS,EAAE,IAAI,EAAE;AAC1E,QAAQ,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,SAAS,CAAC,CAAC;AAChD,QAAQ,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,CAAC;AAC5C,QAAQ,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC;AACtC,QAAQ,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,YAAY,CAAC;AAC5C,QAAQ,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,UAAU,CAAC;AACxC,QAAQ,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC;AAClC,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,SAAS,EAAE;AAChD,YAAY,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;AAC7H,YAAY,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;AAC3H,YAAY,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;AAC1F,YAAY,IAAI,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAChE,YAAY,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;AAC5D,YAAY,IAAI,SAAS,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,CAAC;AAC/D,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC7E,YAAY,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;AAC/D,YAAY,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC5E,SAAS;AACT,aAAa;AACb,YAAY,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,EAAE;AAC/C,gBAAgB,OAAO,IAAI,CAAC;AAC5B,aAAa;AACb,YAAY,IAAI,CAAC,aAAa,EAAE,CAAC;AACjC,SAAS;AACT,QAAQ,IAAI,CAAC,QAAQ,EAAE,CAAC;AACxB,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ;AAC7C,YAAY,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,SAAS,EAAE;AAChD,YAAY,IAAI,CAAC,YAAY,EAAE,CAAC;AAChC,SAAS;AACT,aAAa,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,EAAE;AACpD,YAAY,IAAI,CAAC,cAAc,EAAE,CAAC;AAClC,SAAS;AACT,QAAQ,IAAI,CAAC,OAAO,EAAE,CAAC;AACvB,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK,CAAC;AACN;AACA;AACA;AACA,IAAI,cAAc,CAAC,SAAS,CAAC,GAAG,GAAG,UAAU,EAAE,EAAE,EAAE,EAAE;AACrD,QAAQ,IAAI,MAAM,GAAG,UAAU,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC;AAC3C,QAAQ,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC5C,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7E,QAAQ,IAAI,CAAC,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1E,QAAQ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAC/B,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;AAC7B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK,CAAC;AACN;AACA;AACA;AACA,IAAI,cAAc,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;AACtD,QAAQ,IAAI,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;AAC7B,QAAQ,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AAC5C,QAAQ,IAAI,IAAI,GAAG,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;AAC7C,QAAQ,IAAI,eAAe,GAAG,IAAI,CAAC,QAAQ,GAAG,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;AACxE;AACA,QAAQ,IAAI;AACZ,YAAY,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC;AACnF,gBAAgB,IAAI,CAAC,QAAQ,CAAC;AAC9B,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9B,QAAQ,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC;AAC/B,QAAQ,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ;AAC7C,YAAY,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,SAAS,EAAE;AAChD;AACA,YAAY,IAAI,CAAC,YAAY,EAAE,CAAC;AAChC,SAAS;AACT,aAAa,IAAI,IAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,EAAE;AACpD;AACA,YAAY,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,UAAU,EAAE,GAAG,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;AAChE,SAAS;AACT,QAAQ,IAAI,CAAC,aAAa,EAAE,CAAC;AAC7B,QAAQ,OAAO,IAAI,CAAC;AACpB,KAAK,CAAC;AACN,IAAI,cAAc,CAAC,SAAS,CAAC,uBAAuB,GAAG,YAAY;AACnE,QAAQ,IAAI,IAAI,CAAC,mBAAmB,KAAK,SAAS,EAAE;AACpD,YAAY,IAAI,CAAC,MAAM,CAAC,oBAAoB,CAAC,IAAI,CAAC,mBAAmB,CAAC,CAAC;AACvE,SAAS;AACT,KAAK,CAAC;AACN,IAAI,cAAc,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE,MAAM,EAAE;AACtE,QAAQ,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;AAC3B,QAAQ,IAAI,MAAM,KAAK,KAAK,CAAC,EAAE,EAAE,MAAM,GAAG,EAAE,CAAC,EAAE;AAC/C,QAAQ,IAAI,EAAE,GAAG,MAAM,CAAC,QAAQ,EAAE,QAAQ,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,EAAE,EAAE,GAAG,MAAM,CAAC,UAAU,EAAE,UAAU,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,CAAC,UAAU,GAAG,EAAE,EAAE,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC;AACnM,QAAQ,IAAI,MAAM,GAAG,IAAI,OAAO,CAAC,kBAAkB,EAAE,CAAC;AACtD,QAAQ,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;AAC7C,QAAQ,MAAM,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,QAAQ,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;AACpL,QAAQ,MAAM,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,UAAU,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;AAChM,QAAQ,MAAM,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5E,QAAQ,MAAM,CAAC,OAAO,CAAC,IAAI,KAAK,IAAI,IAAI,IAAI,KAAK,KAAK,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC;AAC5E,QAAQ,IAAI,QAAQ,GAAG;AACvB,YAAY,IAAI,EAAE,IAAI;AACtB,YAAY,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;AAC1D,YAAY,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;AAC3C,YAAY,EAAE,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC;AACrC,YAAY,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC;AAC/C,YAAY,QAAQ,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;AACtD,YAAY,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC;AAC1D,YAAY,cAAc,EAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,iBAAiB,EAAE,CAAC;AAClE,YAAY,QAAQ,EAAE,MAAM,CAAC,WAAW,EAAE;AAC1C,YAAY,YAAY,EAAE,MAAM,CAAC,eAAe,EAAE;AAClD,YAAY,OAAO,EAAE,MAAM,CAAC,UAAU,EAAE;AACxC,YAAY,SAAS,EAAE,MAAM,CAAC,YAAY,EAAE;AAC5C,YAAY,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;AAClC,YAAY,UAAU,EAAE,MAAM,CAAC,UAAU;AACzC,YAAY,YAAY,EAAE,MAAM,CAAC,YAAY;AAC7C,YAAY,OAAO,EAAE,MAAM,CAAC,OAAO;AACnC,YAAY,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;AAClC,SAAS,CAAC;AACV,QAAQ,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;AACtC,QAAQ,OAAO,QAAQ,CAAC;AACxB,KAAK,CAAC;AACN,IAAI,cAAc,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,IAAI,EAAE,OAAO,EAAE;AACrE,QAAQ,IAAI,KAAK,GAAG,IAAI,CAAC;AACzB,QAAQ,IAAI,OAAO,KAAK,KAAK,CAAC,EAAE,EAAE,OAAO,GAAG,EAAE,CAAC,EAAE;AACjD,QAAQ,IAAI,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC;AACrC,cAAc,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAE,CAAC;AAC3E,cAAc,IAAI,CAAC;AACnB,QAAQ,IAAI,QAAQ,EAAE;AACtB,YAAY,IAAI,EAAE,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE,EAAE,GAAG,EAAE,CAAC,MAAM,EAAE,MAAM,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,QAAQ,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,cAAc,EAAE,cAAc,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,QAAQ,EAAE,UAAU,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,OAAO,EAAE,SAAS,GAAG,EAAE,KAAK,KAAK,CAAC,GAAG,SAAS,GAAG,EAAE,CAAC;AAC/X,YAAY,IAAI,SAAS,GAAG,IAAI,CAAC;AACjC,YAAY,IAAI,UAAU,KAAK,CAAC,EAAE;AAClC,gBAAgB,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;AAChD,gBAAgB,IAAI,UAAU,EAAE;AAChC,oBAAoB,UAAU,EAAE,CAAC;AACjC,iBAAiB;AACjB,gBAAgB,OAAO;AACvB,aAAa;AACb;AACA,YAAY,IAAI,CAAC,uBAAuB,EAAE,CAAC;AAC3C,YAAY,IAAI,cAAc,GAAG,QAAQ,CAAC,QAAQ,CAAC;AACnD,YAAY,IAAI,gBAAgB,GAAG,QAAQ,CAAC,UAAU,CAAC;AACvD,YAAY,IAAI,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC3C,YAAY,IAAI,UAAU,GAAG,QAAQ,CAAC,IAAI,CAAC;AAC3C,YAAY,IAAI,YAAY,GAAG,cAAc,IAAI,OAAO,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AAChF,YAAY,IAAI,WAAW,CAAC;AAC5B,YAAY,IAAI,cAAc,GAAG,YAAY;AAC7C,gBAAgB,KAAK,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;AACtD,gBAAgB,KAAK,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;AAClD,gBAAgB,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;AAC1C,gBAAgB,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;AAC1C,gBAAgB,KAAK,CAAC,aAAa,EAAE,CAAC;AACtC,gBAAgB,KAAK,CAAC,aAAa,EAAE,CAAC;AACtC,gBAAgB,IAAI,UAAU,EAAE;AAChC,oBAAoB,UAAU,EAAE,CAAC;AACjC,iBAAiB;AACjB,aAAa,CAAC;AACd,YAAY,IAAI,SAAS,GAAG,UAAU,SAAS,EAAE;AACjD,gBAAgB,IAAI,WAAW,KAAK,SAAS,EAAE;AAC/C,oBAAoB,WAAW,GAAG,SAAS,CAAC;AAC5C,iBAAiB;AACjB,gBAAgB,IAAI,OAAO,GAAG,SAAS,GAAG,WAAW,CAAC;AACtD,gBAAgB,IAAI,OAAO,GAAG,UAAU,EAAE;AAC1C,oBAAoB,cAAc,EAAE,CAAC;AACrC,oBAAoB,OAAO;AAC3B,iBAAiB;AACjB;AACA,gBAAgB,IAAI,CAAC,GAAG,YAAY,CAAC,OAAO,GAAG,UAAU,CAAC,CAAC;AAC3D,gBAAgB,IAAI,eAAe,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AACpD,gBAAgB,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AAClD,gBAAgB,IAAI,SAAS,GAAG,CAAC,CAAC;AAClC,gBAAgB,IAAI,SAAS,GAAG,CAAC,CAAC;AAClC,gBAAgB,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,UAAU,EAAE,gBAAgB,EAAE,CAAC,CAAC,CAAC;AAClF,gBAAgB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,KAAK,CAAC,QAAQ,EAAE,cAAc,EAAE,CAAC,CAAC,CAAC;AAC5E,gBAAgB,SAAS,GAAG,KAAK,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,GAAG,CAAC,CAAC;AAClE,gBAAgB,SAAS,GAAG,KAAK,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU,GAAG,CAAC,CAAC;AAClE,gBAAgB,KAAK,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;AACrD,gBAAgB,KAAK,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;AACjD,gBAAgB,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AACzC,gBAAgB,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AACzC,gBAAgB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,eAAe,EAAE,gBAAgB,CAAC;AACvE,oBAAoB,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,cAAc,CAAC,CAAC;AAC7D,gBAAgB,IAAI,IAAI,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,IAAI,UAAU,IAAI,SAAS,EAAE;AAC7F,oBAAoB,cAAc,EAAE,CAAC;AACrC,oBAAoB,OAAO;AAC3B,iBAAiB;AACjB,gBAAgB,KAAK,CAAC,aAAa,EAAE,CAAC;AACtC,gBAAgB,KAAK,CAAC,aAAa,EAAE,CAAC;AACtC,gBAAgB,IAAI,OAAO,GAAG,UAAU,EAAE;AAC1C,oBAAoB,IAAI,SAAS,EAAE;AACnC,wBAAwB,SAAS,CAAC,CAAC,CAAC,CAAC;AACrC,qBAAqB;AACrB,oBAAoB,KAAK,CAAC,mBAAmB,GAAG,KAAK,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;AAC9F,iBAAiB;AACjB,aAAa,CAAC;AACd,YAAY,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,SAAS,CAAC,CAAC;AACzD,SAAS;AACT,KAAK,CAAC;AACN,IAAI,cAAc,CAAC,SAAS,CAAC,gBAAgB,GAAG,UAAU,QAAQ,EAAE;AACpE,QAAQ,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,CAAC,MAAM,CAAC,CAAC;AAC9D,QAAQ,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,CAAC;AAC3D,QAAQ,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,EAAE,QAAQ,CAAC,EAAE,CAAC,CAAC;AAClD,QAAQ,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,OAAO,CAAC,CAAC;AACjE,QAAQ,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,CAAC;AACpE,QAAQ,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,UAAU,CAAC,CAAC;AAC1E,QAAQ,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,QAAQ,CAAC,cAAc,CAAC,CAAC;AACtF,QAAQ,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;AACxC,QAAQ,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;AAC5C,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;AAClC,QAAQ,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,UAAU,CAAC;AAC9C,QAAQ,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;AAClD,QAAQ,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC;AACxC,QAAQ,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,YAAY,CAAC;AAClD,QAAQ,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC,QAAQ,CAAC;AAC1C,QAAQ,IAAI,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC;AAClC,KAAK,CAAC;AACN,IAAI,OAAO,cAAc,CAAC;AAC1B,CAAC,CAAC,MAAM,CAAC;;ACtPT,OAAO,CAAC,kBAAkB,GAAG,cAAc;;;;"}